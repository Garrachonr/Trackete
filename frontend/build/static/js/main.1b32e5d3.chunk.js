(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{27:function(t,e,n){},49:function(t,e,n){"use strict";n.r(e);var a=n(2),c=n.n(a),r=n(32),s=n.n(r),i=n(17),o=n(18),j=n(19),u=n(20),l=n(22),h=n(14),b=n(12),d=n(9),p=n.n(d),m=(n(27),n(60)),O=n(1);function f(t){var e=Object(a.useState)([{}]),n=Object(b.a)(e,2),c=n[0],r=n[1],s=Object(a.useState)(!0),i=Object(b.a)(s,2),o=i[0],j=i[1],u="https://api.aftership.com/v4/trackings/"+t.company+"/"+t.number+"/";return Object(a.useEffect)((function(){function t(){return(t=Object(h.a)(p.a.mark((function t(){var e,n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","aftership-api-key":"612c49aa-28f8-4543-b7d9-1ea47b7f1510"}},t.next=3,fetch(u,e);case 3:return n=t.sent,t.next=6,n.json();case 6:a=t.sent,r(a),setTimeout((function(){j(!1)}),750);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(O.jsx)("tbody",{children:Object(O.jsxs)("tr",{align:"center",children:[Object(O.jsx)("td",{children:o?Object(O.jsx)("div",{children:"Cargando"}):c.data.tracking?Object(O.jsx)("img",{src:"/images/"+c.data.tracking.slug+".png",height:"200",widht:"200"}):Object(O.jsx)("div",{})}),Object(O.jsx)("td",{children:o?Object(O.jsx)("div",{children:"Cargando"}):c.data.tracking?Object(O.jsx)("p",{children:c.data.tracking.slug}):Object(O.jsx)("div",{})}),Object(O.jsx)("td",{}),Object(O.jsx)("td",{children:o?Object(O.jsx)("div",{children:"Cargando"}):c.data.tracking?Object(O.jsx)("p",{children:c.data.tracking.subtag_message}):Object(O.jsx)("div",{})})]},"number"+t.index)})}function x(t){return Object(O.jsxs)("div",{class:"row",children:[Object(O.jsx)("input",{type:"text",className:"form",value:t.ship_number,autoComplete:"off",placeholder:"Introduzca numero de pedido",onChange:function(e){return function(e){t.handleShipNumber(e)}(e.target.value)}}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"text",className:"form",value:t.company,autoComplete:"off",onChange:function(e){return function(e){t.handleCompany(e)}(e.target.value)}}),Object(O.jsx)("br",{}),Object(O.jsx)(m.a,{className:"itemNarrow",onClick:function(){t.clickSearch()},children:" Buscar Pedido "}),Object(O.jsx)(m.a,{className:"itemNarrow",onClick:function(){t.clickSave()},children:" Confirmar "})]})}var g=function(){var t=Object(a.useState)([]),e=Object(b.a)(t,2),n=e[0],c=e[1],r=Object(a.useState)(""),s=Object(b.a)(r,2),i=s[0],o=s[1],j=Object(a.useState)(""),u=Object(b.a)(j,2),d=u[0],g=u[1],v=Object(a.useState)([]),y=Object(b.a)(v,2),C=y[0],k=y[1],w=Object(a.useState)([]),S=Object(b.a)(w,2),T=S[0],N=S[1];function E(){return(E=Object(h.a)(p.a.mark((function t(){var e;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={name:"melon",email:"paco@gmail.com",pass:"...",company:d,pedido:i,status:"...",address:"..."},t.next=3,fetch("/ships",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function P(){return(P=Object(h.a)(p.a.mark((function t(){var e,n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","aftership-api-key":"612c49aa-28f8-4543-b7d9-1ea47b7f1510"},body:JSON.stringify({tracking:{tracking_number:i}})},t.next=3,fetch("https://api.aftership.com/v4/trackings",e);case 3:return n=t.sent,t.next=6,n.json();case 6:a=t.sent,g(a.data.tracking.slug);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(){var t={shipnumber:i,company:d},e=[].concat(Object(l.a)(n),[t]);!function(){E.apply(this,arguments)}(),c(e),o(""),g("")}return Object(a.useEffect)((function(){function t(){return(t=Object(h.a)(p.a.mark((function t(){var e,n,a;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/ships/email/paco@gmail.com");case 2:return e=t.sent,t.next=5,e.json();case 5:n=t.sent,a=[],a=n.map((function(t,e){return t.pedido})),k(a),a=n.map((function(t,e){return t.company})),N(a);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}document.title="Home",function(){t.apply(this,arguments)}()}),[]),Object(O.jsxs)("div",{class:"aside",children:[Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("img",{src:"/images/Logo.png",height:"150",widht:"150",alt:"Image",align:"center"}),Object(O.jsxs)("div",{class:"row",children:[Object(O.jsx)(m.a,{class:"ghost",children:"Pedidos"}),Object(O.jsx)(m.a,{children:"Cerrar sesion"})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{class:"row",children:[Object(O.jsx)("p",{children:"paco@gmail.com"}),Object(O.jsx)(m.a,{onClick:function(){return function(){var t=n;C.map((function(e,n){var a={shipnumber:e,company:T[n]};console.log(a),t=[].concat(Object(l.a)(t),[a])})),c(t)}()},children:"Cargar"})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(x,{ship_number:i,company:d,handleShipNumber:function(t){return function(t){o(t)}(t)},handleCompany:function(t){},clickSearch:function(){return function(){return P.apply(this,arguments)}()},clickSave:function(){return A()}}),Object(O.jsx)("br",{}),Object(O.jsxs)("div",{class:"col-12  mainPagecontainer ",children:[Object(O.jsx)("h2",{class:"blog-post-title",children:"Pedidos"}),Object(O.jsx)("div",{class:"aside",children:Object(O.jsx)("table",{children:n.map((function(t,e){return Object(O.jsx)(f,{index:e,number:t.shipnumber,company:t.company})}))})})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("img",{src:"/images/LogoSinTexto.png",height:"150",widht:"150",alt:"Image",align:"center"})]})},v=n(16),y=n(6),C=n(10),k=n(52),w=n(53),S=n(54),T=n(55),N=n(50),E=n(51),P=function(t){Object(j.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).state={isOpen:!1},a.toggle=a.toggle.bind(Object(C.a)(a)),a}return Object(o.a)(n,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return Object(O.jsx)(N.a,{color:"dark",dark:!0,expand:"md",children:Object(O.jsx)(E.a,{tag:v.b,to:"/",children:"Home"})})}}]),n}(a.Component),A=function(t){Object(j.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).state={tfgs:[]},a.remove=a.remove.bind(Object(C.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=this;fetch("/tfgs").then((function(t){return t.json()})).then((function(e){return t.setState({tfgs:e})}))}},{key:"remove",value:function(){var t=Object(h.a)(p.a.mark((function t(e){var n=this;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/tfgs/".concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(){var t=Object(l.a)(n.state.tfgs).filter((function(t){return t.email!==e}));n.setState({tfgs:t})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=this.state.tfgs.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{style:{whiteSpace:"nowrap"},children:e.nombre}),Object(O.jsx)("td",{children:e.email}),Object(O.jsx)("td",{children:e.titulo}),Object(O.jsx)("td",{children:e.tutor}),Object(O.jsx)("td",{children:e.status}),Object(O.jsx)("td",{children:Object(O.jsxs)(k.a,{children:[Object(O.jsx)(w.a,{size:"sm",color:"primary",tag:v.b,to:"/tfgs/"+e.email,children:"Edit"}),Object(O.jsx)(w.a,{size:"sm",color:"danger",onClick:function(){return t.remove(e.email)},children:"Delete"})]})})]},e.email)}));return Object(O.jsxs)("div",{children:[Object(O.jsx)(P,{}),Object(O.jsxs)(S.a,{fluid:!0,children:[Object(O.jsx)("div",{className:"float-right",children:Object(O.jsx)(w.a,{color:"success",tag:v.b,to:"/tfgs/new",children:"Add TFG"})}),Object(O.jsx)("h3",{children:"TFGs"}),Object(O.jsxs)(T.a,{className:"mt-4",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{width:"15%",children:"Nombre"}),Object(O.jsx)("th",{width:"15%",children:"Email"}),Object(O.jsx)("th",{width:"15%",children:"Titulo"}),Object(O.jsx)("th",{width:"15%",children:"Tutor"}),Object(O.jsx)("th",{width:"10%",children:"Estado"}),Object(O.jsx)("th",{width:"30%",children:"Actions"})]})}),Object(O.jsx)("tbody",{children:e})]})]})]})}}]),n}(a.Component),F=A,I=n(15),D=n(56),G=n(57),J=n(58),L=n(59),_=function(t){Object(j.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).emptyItem={nombre:"",email:"",titulo:"",tutor:"",pass:"",status:1,memoria:null,nota:0},a.state={item:a.emptyItem},a.handleChange=a.handleChange.bind(Object(C.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(C.a)(a)),a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=Object(h.a)(p.a.mark((function t(){var e;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("new"===this.props.match.params.email){t.next=7;break}return t.next=3,fetch("/tfgs/".concat(this.props.match.params.email));case 3:return t.next=5,t.sent.json();case 5:e=t.sent,this.setState({item:e});case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"handleChange",value:function(t){var e=t.target,n=e.value,a=e.name,c=Object(I.a)({},this.state.item);c[a]=n,this.setState({item:c})}},{key:"handleSubmit",value:function(){var t=Object(h.a)(p.a.mark((function t(e){var n;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),n=this.state.item,t.next=4,fetch("/tfgs"+("new"!==this.props.match.params.email?"/"+n.email:""),{method:"new"!==this.props.match.params.email?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});case 4:this.props.history.push("/tfgs");case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state.item,e=Object(O.jsx)("h2",{children:t.email?"Edit TFG":"Add TFG"});return Object(O.jsxs)("div",{children:[Object(O.jsx)(P,{}),Object(O.jsxs)(S.a,{children:[e,Object(O.jsxs)(D.a,{onSubmit:this.handleSubmit,children:[Object(O.jsxs)(G.a,{children:[Object(O.jsx)(J.a,{for:"nombre",children:"Nombre"}),Object(O.jsx)(L.a,{type:"text",name:"nombre",id:"nombre",value:t.nombre||"",onChange:this.handleChange,autoComplete:"nombre"})]}),Object(O.jsxs)(G.a,{children:[Object(O.jsx)(J.a,{for:"email",children:"Email"}),Object(O.jsx)(L.a,{type:"text",name:"email",id:"email",value:t.email||"",onChange:this.handleChange,autoComplete:"email"})]}),Object(O.jsxs)(G.a,{children:[Object(O.jsx)(J.a,{for:"titulo",children:"Titulo"}),Object(O.jsx)(L.a,{type:"text",name:"titulo",id:"titulo",value:t.titulo||"",onChange:this.handleChange,autoComplete:"titulo"})]}),Object(O.jsxs)(G.a,{children:[Object(O.jsx)(J.a,{for:"tutor",children:"Tutor"}),Object(O.jsx)(L.a,{type:"text",name:"tutor",id:"tutor",value:t.tutor||"",onChange:this.handleChange,autoComplete:"tutor"})]}),Object(O.jsxs)(G.a,{children:[Object(O.jsx)(J.a,{for:"status",children:"Status"}),Object(O.jsx)(L.a,{type:"number",name:"status",id:"status",value:t.status||"",onChange:this.handleChange,autoComplete:"status"})]}),Object(O.jsxs)(G.a,{children:[Object(O.jsx)(w.a,{color:"primary",type:"submit",children:"Save"})," ",Object(O.jsx)(w.a,{color:"secondary",tag:v.b,to:"/tfgs",children:"Cancel"})]})]})]})]})}}]),n}(a.Component),z=Object(y.f)(_),B=function(t){Object(j.a)(n,t);var e=Object(u.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(O.jsx)(v.a,{children:Object(O.jsxs)(y.c,{children:[Object(O.jsx)(y.a,{path:"/",exact:!0,component:g}),Object(O.jsx)(y.a,{path:"/tfgs",exact:!0,component:F}),Object(O.jsx)(y.a,{path:"/tfgs/:email",component:z})]})})}}]),n}(a.Component),M=B,H=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,61)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,r=e.getLCP,s=e.getTTFB;n(t),a(t),c(t),r(t),s(t)}))};n(48);s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(M,{})}),document.getElementById("root")),H()}},[[49,1,2]]]);
//# sourceMappingURL=main.1b32e5d3.chunk.js.map