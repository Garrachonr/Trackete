{"ast":null,"code":"import _asyncToGenerator from\"/Users/garra/Desktop/Trackete/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/garra/Desktop/Trackete/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/garra/Desktop/Trackete/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from'react';import'../style.css';import Details from\"./Details\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Overview(props){var PARCEL=[{}];var PARCEL2=[{}];var _useState=useState(PARCEL),_useState2=_slicedToArray(_useState,2),parcel=_useState2[0],setParcel=_useState2[1];var _useState3=useState(PARCEL2),_useState4=_slicedToArray(_useState3,2),parcel2=_useState4[0],setParcel2=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var link=\"https://api.aftership.com/v4/trackings/\"+props.company+\"/\"+props.number;var raw=\"{\\r\\n    \\\"trackingNumber\\\": \\\"\"+props.number+\"\\\"}\";useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var options,response,myjson;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:options={method:'GET',headers:{Accept:'application/json','Content-Type':'application/json','aftership-api-key':'dc14c141-9b50-4470-b510-b1c164cf79a8'}};_context.next=3;return fetch(link,options);case 3:response=_context.sent;_context.next=6;return response.json();case 6:myjson=_context.sent;//console.log(myjson.data.tracking.slug);\nsetParcel(myjson);setTimeout(function(){setLoading(false);},750);case 9:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}function fetchData2(){return _fetchData2.apply(this,arguments);}function _fetchData2(){_fetchData2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var myHeaders,requestOptions,response,myjson;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:myHeaders=new Headers();myHeaders.append(\"Content-Type\",\"application/json; charset=utf-8\");myHeaders.append(\"Authorization\",\"apik_DZwsl9HU3SYb0Mm6K8Ga9STAr0WRZg\");requestOptions={method:'POST',headers:myHeaders,body:raw,redirect:'follow'};_context2.next=6;return fetch(\"https://api.ship24.com/public/v1/tracking/search\",requestOptions);case 6:response=_context2.sent;_context2.next=9;return response.json();case 9:myjson=_context2.sent;//console.log(myjson.data.tracking.slug);\nsetParcel2(myjson);setTimeout(function(){setLoading(false);},750);case 12:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchData2.apply(this,arguments);}fetchData();fetchData2();},[]);return/*#__PURE__*/_jsx(\"tbody\",{align:\"justify\",children:/*#__PURE__*/_jsxs(\"tr\",{align:\"center\",children:[/*#__PURE__*/_jsx(\"td\",{children:loading?/*#__PURE__*/_jsx(\"div\",{}):parcel.data.tracking?/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+\"/images/\"+parcel.data.tracking.slug+\".png\",height:\"200\",widht:\"200\"}):/*#__PURE__*/_jsx(\"div\",{})}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{children:loading?/*#__PURE__*/_jsx(\"div\",{}):parcel.data.tracking?/*#__PURE__*/_jsx(\"p\",{children:parcel.data.tracking.subtag_message}):/*#__PURE__*/_jsx(\"div\",{})}),/*#__PURE__*/_jsx(\"td\",{children:loading?/*#__PURE__*/_jsx(\"div\",{}):parcel2.data.trackings?/*#__PURE__*/_jsx(\"p\",{children:parcel2.data.trackings.shipment.originCountryCode}):/*#__PURE__*/_jsx(\"div\",{})}),/*#__PURE__*/_jsx(\"td\",{children:loading?/*#__PURE__*/_jsx(\"div\",{}):parcel.data.tracking?/*#__PURE__*/_jsx(Details,{details:props.details,parcel:parcel.data.tracking,clickDetails:function clickDetails(){return props.clickDetails();}}):/*#__PURE__*/_jsx(\"div\",{})})]},\"number\"+props.index)});}","map":{"version":3,"sources":["/Users/garra/Desktop/Trackete/frontend/src/parcelList/Overview.js"],"names":["React","useState","useEffect","Details","Overview","props","PARCEL","PARCEL2","parcel","setParcel","parcel2","setParcel2","loading","setLoading","link","company","number","raw","fetchData","options","method","headers","Accept","fetch","response","json","myjson","setTimeout","fetchData2","myHeaders","Headers","append","requestOptions","body","redirect","data","tracking","process","env","PUBLIC_URL","slug","subtag_message","trackings","shipment","originCountryCode","details","clickDetails","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../style.css';\nimport Details from \"./Details\";\n\n\nexport default function Overview(props) {\n\n    const PARCEL = [{}];\n    const PARCEL2 = [{}];\n\n    const [parcel, setParcel] = useState(PARCEL);\n    const [parcel2, setParcel2] = useState(PARCEL2);\n    const [loading, setLoading] = useState(true);\n\n    const link = \"https://api.aftership.com/v4/trackings/\" + props.company + \"/\" + props.number;\n    const raw = \"{\\r\\n    \\\"trackingNumber\\\": \\\"\" + props.number + \"\\\"}\";\n\n    useEffect(() => {\n        async function fetchData() {\n            const options = {\n                method: 'GET',\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                    'aftership-api-key': 'dc14c141-9b50-4470-b510-b1c164cf79a8'\n                }\n            }\n            const response = await fetch(link, options);      \n            const myjson = await response.json();\n            //console.log(myjson.data.tracking.slug);\n            setParcel(myjson);\n            setTimeout(() => {setLoading(false)}, 750);\n        }\n\n        async function fetchData2() {\n            var myHeaders = new Headers();\n            myHeaders.append(\"Content-Type\", \"application/json; charset=utf-8\");\n            myHeaders.append(\"Authorization\", \"apik_DZwsl9HU3SYb0Mm6K8Ga9STAr0WRZg\");\n\n            var requestOptions = {\n                method: 'POST',\n                headers: myHeaders,\n                body: raw,\n                redirect: 'follow'\n            };\n            const response = await fetch(\"https://api.ship24.com/public/v1/tracking/search\", requestOptions);      \n            const myjson = await response.json();\n            //console.log(myjson.data.tracking.slug);\n            setParcel2(myjson);\n            setTimeout(() => {setLoading(false)}, 750);\n        }\n        fetchData();\n        fetchData2();\n      }, []);\n\n      return (\n        <tbody align = \"justify\">\n            <tr key={\"number\" + props.index} align=\"center\">\n                <td>{loading ? <div></div> : parcel.data.tracking ?  <img src={process.env.PUBLIC_URL + \"/images/\" + parcel.data.tracking.slug + \".png\"} height=\"200\" widht=\"200\"></img> : <div></div>}</td>\n               <td></td>\n               <td>{loading ? <div></div> : parcel.data.tracking ? <p>{parcel.data.tracking.subtag_message}</p> : <div></div>}</td>\n               <td>{loading ? <div></div> : parcel2.data.trackings ? <p>{parcel2.data.trackings.shipment.originCountryCode}</p> : <div></div>}</td>\n               <td>{loading ? <div></div> : parcel.data.tracking ? <Details details = {props.details} parcel = {parcel.data.tracking} clickDetails={()=> props.clickDetails()}/> : <div></div>}</td>\n            </tr>\n        </tbody>\n    );\n\n}"]},"metadata":{},"sourceType":"module"}