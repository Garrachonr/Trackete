{"ast":null,"code":"import _asyncToGenerator from\"/home/alejandro.marinasc/Desktop/sprint3/Trackete/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/alejandro.marinasc/Desktop/sprint3/Trackete/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/home/alejandro.marinasc/Desktop/sprint3/Trackete/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from'react';import'../style.css';import Details from\"./Details\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Overview(props){var PARCEL=[{}];var _useState=useState(PARCEL),_useState2=_slicedToArray(_useState,2),parcel=_useState2[0],setParcel=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var link=\"https://api.aftership.com/v4/trackings/\"+props.company+\"/\"+props.number+\"/\";useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var options,response,myjson;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:options={method:'GET',headers:{Accept:'application/json','Content-Type':'application/json','aftership-api-key':'3f7f21d6-0de5-4505-8eec-84f61d4359df'}};_context.next=3;return fetch(link,options);case 3:response=_context.sent;_context.next=6;return response.json();case 6:myjson=_context.sent;//console.log(myjson.data.tracking.slug);\nsetParcel(myjson);setTimeout(function(){setLoading(false);},750);case 9:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);return/*#__PURE__*/_jsx(\"tbody\",{align:\"justify\",children:/*#__PURE__*/_jsxs(\"tr\",{align:\"center\",children:[/*#__PURE__*/_jsx(\"td\",{children:loading?/*#__PURE__*/_jsx(\"div\",{}):parcel.data.tracking?/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+\"/images/\"+parcel.data.tracking.slug+\".png\",height:\"200\",widht:\"200\"}):/*#__PURE__*/_jsx(\"div\",{})}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{children:loading?/*#__PURE__*/_jsx(\"div\",{}):parcel.data.tracking?/*#__PURE__*/_jsx(\"p\",{children:parcel.data.tracking.subtag_message}):/*#__PURE__*/_jsx(\"div\",{})}),/*#__PURE__*/_jsx(\"td\",{children:loading?/*#__PURE__*/_jsx(\"div\",{}):parcel.data.tracking?/*#__PURE__*/_jsx(Details,{details:props.details,parcel:parcel.data.tracking,clickDetails:function clickDetails(){return props.clickDetails();}}):/*#__PURE__*/_jsx(\"div\",{})})]},\"number\"+props.index)});}","map":{"version":3,"sources":["/home/alejandro.marinasc/Desktop/sprint3/Trackete/frontend/src/parcelList/Overview.js"],"names":["React","useState","useEffect","Details","Overview","props","PARCEL","parcel","setParcel","loading","setLoading","link","company","number","fetchData","options","method","headers","Accept","fetch","response","json","myjson","setTimeout","data","tracking","process","env","PUBLIC_URL","slug","subtag_message","details","clickDetails","index"],"mappings":"mbAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,cAAP,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,C,wFAGA,cAAe,SAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,CAEpC,GAAMC,CAAAA,MAAM,CAAG,CAAC,EAAD,CAAf,CAEA,cAA4BL,QAAQ,CAACK,MAAD,CAApC,wCAAOC,MAAP,eAAeC,SAAf,eACA,eAA8BP,QAAQ,CAAC,IAAD,CAAtC,yCAAOQ,OAAP,eAAgBC,UAAhB,eAEA,GAAMC,CAAAA,IAAI,CAAG,0CAA4CN,KAAK,CAACO,OAAlD,CAA4D,GAA5D,CAAkEP,KAAK,CAACQ,MAAxE,CAAiF,GAA9F,CAEAX,SAAS,CAAC,UAAM,SACGY,CAAAA,SADH,qIACZ,+JACUC,OADV,CACoB,CACZC,MAAM,CAAE,KADI,CAEZC,OAAO,CAAE,CACLC,MAAM,CAAE,kBADH,CAEL,eAAgB,kBAFX,CAGL,oBAAqB,sCAHhB,CAFG,CADpB,uBAS2BC,CAAAA,KAAK,CAACR,IAAD,CAAOI,OAAP,CAThC,QASUK,QATV,qCAUyBA,CAAAA,QAAQ,CAACC,IAAT,EAVzB,QAUUC,MAVV,eAWI;AACAd,SAAS,CAACc,MAAD,CAAT,CACAC,UAAU,CAAC,UAAM,CAACb,UAAU,CAAC,KAAD,CAAV,CAAkB,CAA1B,CAA4B,GAA5B,CAAV,CAbJ,sDADY,4CAgBZI,SAAS,GACV,CAjBM,CAiBJ,EAjBI,CAAT,CAmBE,mBACE,cAAO,KAAK,CAAG,SAAf,uBACI,YAAiC,KAAK,CAAC,QAAvC,wBACI,oBAAKL,OAAO,cAAG,cAAH,CAAiBF,MAAM,CAACiB,IAAP,CAAYC,QAAZ,cAAwB,YAAK,GAAG,CAAEC,OAAO,CAACC,GAAR,CAAYC,UAAZ,CAAyB,UAAzB,CAAsCrB,MAAM,CAACiB,IAAP,CAAYC,QAAZ,CAAqBI,IAA3D,CAAkE,MAA5E,CAAoF,MAAM,CAAC,KAA3F,CAAiG,KAAK,CAAC,KAAvG,EAAxB,cAA8I,cAA3K,EADJ,cAEG,aAFH,cAGG,oBAAKpB,OAAO,cAAG,cAAH,CAAiBF,MAAM,CAACiB,IAAP,CAAYC,QAAZ,cAAuB,mBAAIlB,MAAM,CAACiB,IAAP,CAAYC,QAAZ,CAAqBK,cAAzB,EAAvB,cAAsE,cAAnG,EAHH,cAIG,oBAAKrB,OAAO,cAAG,cAAH,CAAiBF,MAAM,CAACiB,IAAP,CAAYC,QAAZ,cAAuB,KAAC,OAAD,EAAS,OAAO,CAAIpB,KAAK,CAAC0B,OAA1B,CAAmC,MAAM,CAAIxB,MAAM,CAACiB,IAAP,CAAYC,QAAzD,CAAmE,YAAY,CAAE,8BAAKpB,CAAAA,KAAK,CAAC2B,YAAN,EAAL,EAAjF,EAAvB,cAAuI,cAApK,EAJH,GAAS,SAAW3B,KAAK,CAAC4B,KAA1B,CADJ,EADF,CAWL","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../style.css';\nimport Details from \"./Details\";\n\n\nexport default function Overview(props) {\n\n    const PARCEL = [{}];\n\n    const [parcel, setParcel] = useState(PARCEL);\n    const [loading, setLoading] = useState(true);\n\n    const link = \"https://api.aftership.com/v4/trackings/\" + props.company + \"/\" + props.number + \"/\";\n\n    useEffect(() => {\n        async function fetchData() {\n            const options = {\n                method: 'GET',\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                    'aftership-api-key': '3f7f21d6-0de5-4505-8eec-84f61d4359df'\n                }\n            }\n            const response = await fetch(link, options);      \n            const myjson = await response.json();\n            //console.log(myjson.data.tracking.slug);\n            setParcel(myjson);\n            setTimeout(() => {setLoading(false)}, 750);\n        }\n        fetchData();\n      }, []);\n\n      return (\n        <tbody align = \"justify\">\n            <tr key={\"number\" + props.index} align=\"center\">\n                <td>{loading ? <div></div> : parcel.data.tracking ?  <img src={process.env.PUBLIC_URL + \"/images/\" + parcel.data.tracking.slug + \".png\"} height=\"200\" widht=\"200\"></img> : <div></div>}</td>\n               <td></td>\n               <td>{loading ? <div></div> : parcel.data.tracking ? <p>{parcel.data.tracking.subtag_message}</p> : <div></div>}</td>\n               <td>{loading ? <div></div> : parcel.data.tracking ? <Details details = {props.details} parcel = {parcel.data.tracking} clickDetails={()=> props.clickDetails()}/> : <div></div>}</td>\n            </tr>\n        </tbody>\n    );\n\n}"]},"metadata":{},"sourceType":"module"}