{"ast":null,"code":"import _toConsumableArray from\"/Users/garra/Doclocal/isst/tfgapi0/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/garra/Doclocal/isst/tfgapi0/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/garra/Doclocal/isst/tfgapi0/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/garra/Doclocal/isst/tfgapi0/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/garra/Doclocal/isst/tfgapi0/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/garra/Doclocal/isst/tfgapi0/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/garra/Doclocal/isst/tfgapi0/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/Users/garra/Doclocal/isst/tfgapi0/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{Component}from'react';import{Button,ButtonGroup,Container,Table}from'reactstrap';import AppNavbar from'./AppNavbar';import{Link}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TFGList=/*#__PURE__*/function(_Component){_inherits(TFGList,_Component);var _super=_createSuper(TFGList);function TFGList(props){var _this;_classCallCheck(this,TFGList);_this=_super.call(this,props);_this.state={tfgs:[]};_this.remove=_this.remove.bind(_assertThisInitialized(_this));return _this;}_createClass(TFGList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('/tfgs').then(function(response){return response.json();}).then(function(data){return _this2.setState({tfgs:data});});}},{key:\"remove\",value:function(){var _remove=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(email){var _this3=this;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"/tfgs/\".concat(email),{method:'DELETE',headers:{'Accept':'application/json','Content-Type':'application/json'}}).then(function(){var updatedTFGs=_toConsumableArray(_this3.state.tfgs).filter(function(i){return i.email!==email;});_this3.setState({tfgs:updatedTFGs});});case 2:case\"end\":return _context.stop();}}},_callee);}));function remove(_x){return _remove.apply(this,arguments);}return remove;}()},{key:\"render\",value:function render(){var _this4=this;var tfgs=this.state.tfgs;var tfgList=tfgs.map(function(tfg){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{style:{whiteSpace:'nowrap'},children:tfg.nombre}),/*#__PURE__*/_jsx(\"td\",{children:tfg.email}),/*#__PURE__*/_jsx(\"td\",{children:tfg.titulo}),/*#__PURE__*/_jsx(\"td\",{children:tfg.tutor}),/*#__PURE__*/_jsx(\"td\",{children:tfg.status}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(ButtonGroup,{children:[/*#__PURE__*/_jsx(Button,{size:\"sm\",color:\"primary\",tag:Link,to:\"/tfgs/\"+tfg.email,children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{size:\"sm\",color:\"danger\",onClick:function onClick(){return _this4.remove(tfg.email);},children:\"Delete\"})]})})]},tfg.email);});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AppNavbar,{}),/*#__PURE__*/_jsxs(Container,{fluid:true,children:[/*#__PURE__*/_jsx(\"div\",{className:\"float-right\",children:/*#__PURE__*/_jsx(Button,{color:\"success\",tag:Link,to:\"/tfgs/new\",children:\"Add TFG\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"TFGs\"}),/*#__PURE__*/_jsxs(Table,{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"15%\",children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{width:\"15%\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{width:\"15%\",children:\"Titulo\"}),/*#__PURE__*/_jsx(\"th\",{width:\"15%\",children:\"Tutor\"}),/*#__PURE__*/_jsx(\"th\",{width:\"10%\",children:\"Estado\"}),/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tfgList})]})]})]});}}]);return TFGList;}(Component);export default TFGList;","map":{"version":3,"sources":["/Users/garra/Doclocal/isst/tfgapi0/frontend/src/TFGList.js"],"names":["React","Component","Button","ButtonGroup","Container","Table","AppNavbar","Link","TFGList","props","state","tfgs","remove","bind","fetch","then","response","json","data","setState","email","method","headers","updatedTFGs","filter","i","tfgList","map","tfg","whiteSpace","nombre","titulo","tutor","status"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Button, ButtonGroup, Container, Table } from 'reactstrap';\nimport AppNavbar from './AppNavbar';\nimport { Link } from 'react-router-dom';\n\nclass TFGList extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {tfgs: []};\n        this.remove = this.remove.bind(this);\n    }\n\n    componentDidMount() {\n        fetch('/tfgs')\n            .then(response => response.json())\n            .then(data => this.setState({tfgs: data}));\n    }\n\n    async remove(email) {\n        await fetch(`/tfgs/${email}`, {\n            method: 'DELETE',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n        }).then(() => {\n            let updatedTFGs = [...this.state.tfgs].filter(i => i.email !== email);\n            this.setState({tfgs: updatedTFGs});\n        });\n    }\n\n    render() {\n        const {tfgs} = this.state;\n\n        const tfgList = tfgs.map(tfg => {\n            return <tr key={tfg.email}>\n                <td style={{whiteSpace: 'nowrap'}}>{tfg.nombre}</td>\n                <td>{tfg.email}</td>\n                <td>{tfg.titulo}</td>\n                <td>{tfg.tutor}</td>\n                <td>{tfg.status}</td>\n                <td>\n                    <ButtonGroup>\n                        <Button size=\"sm\" color=\"primary\" tag={Link} to={\"/tfgs/\" + tfg.email}>Edit</Button>\n                        <Button size=\"sm\" color=\"danger\" onClick={() => this.remove(tfg.email)}>Delete</Button>\n                    </ButtonGroup>\n                </td>\n            </tr>\n        });\n\n        return (\n            <div>\n                <AppNavbar/>\n                <Container fluid>\n                    <div className=\"float-right\">\n                        <Button color=\"success\" tag={Link} to=\"/tfgs/new\">Add TFG</Button>\n                    </div>\n                    <h3>TFGs</h3>\n                    <Table className=\"mt-4\">\n                        <thead>\n                        <tr>\n                            <th width=\"15%\">Nombre</th>\n                            <th width=\"15%\">Email</th>\n                            <th width=\"15%\">Titulo</th>\n                            <th width=\"15%\">Tutor</th>\n                            <th width=\"10%\">Estado</th>\n                            <th width=\"30%\">Actions</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                        {tfgList}\n                        </tbody>\n                    </Table>\n                </Container>\n            </div>\n        );\n    }\n}\n\nexport default TFGList;"]},"metadata":{},"sourceType":"module"}