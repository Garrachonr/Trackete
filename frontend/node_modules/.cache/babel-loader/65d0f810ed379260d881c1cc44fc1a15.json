{"ast":null,"code":"import _objectSpread from\"/home/sergio.jberron/Desktop/Sprint 2/Trackete-main/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/home/sergio.jberron/Desktop/Sprint 2/Trackete-main/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/sergio.jberron/Desktop/Sprint 2/Trackete-main/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/sergio.jberron/Desktop/Sprint 2/Trackete-main/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/home/sergio.jberron/Desktop/Sprint 2/Trackete-main/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/home/sergio.jberron/Desktop/Sprint 2/Trackete-main/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/sergio.jberron/Desktop/Sprint 2/Trackete-main/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"/home/sergio.jberron/Desktop/Sprint 2/Trackete-main/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{Component}from'react';import{Link,withRouter}from'react-router-dom';import{Button,Container,Form,FormGroup,Input,Label}from'reactstrap';import AppNavbar from'./AppNavbar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TFGEdit=/*#__PURE__*/function(_Component){_inherits(TFGEdit,_Component);var _super=_createSuper(TFGEdit);function TFGEdit(props){var _this;_classCallCheck(this,TFGEdit);_this=_super.call(this,props);_this.emptyItem={nombre:'',email:'',titulo:'',tutor:'',pass:'',status:1,memoria:null,nota:0};_this.state={item:_this.emptyItem};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(TFGEdit,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var tfg;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(this.props.match.params.email!=='new')){_context.next=7;break;}_context.next=3;return fetch(\"/tfgs/\".concat(this.props.match.params.email));case 3:_context.next=5;return _context.sent.json();case 5:tfg=_context.sent;this.setState({item:tfg});case 7:case\"end\":return _context.stop();}}},_callee,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"handleChange\",value:function handleChange(event){var target=event.target;var value=target.value;var name=target.name;var item=_objectSpread({},this.state.item);item[name]=value;this.setState({item:item});}},{key:\"handleSubmit\",value:function(){var _handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var item;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();item=this.state.item;_context2.next=4;return fetch('/tfgs'+(this.props.match.params.email!=='new'?'/'+item.email:''),{method:this.props.match.params.email!=='new'?'PUT':'POST',//(item.email) ? 'PUT' : 'POST',\nheaders:{'Accept':'application/json','Content-Type':'application/json'},body:JSON.stringify(item)});case 4:this.props.history.push('/tfgs');case 5:case\"end\":return _context2.stop();}}},_callee2,this);}));function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}return handleSubmit;}()},{key:\"render\",value:function render(){var item=this.state.item;var title=/*#__PURE__*/_jsx(\"h2\",{children:item.email?'Edit TFG':'Add TFG'});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AppNavbar,{}),/*#__PURE__*/_jsxs(Container,{children:[title,/*#__PURE__*/_jsxs(Form,{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"nombre\",children:\"Nombre\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"nombre\",id:\"nombre\",value:item.nombre||'',onChange:this.handleChange,autoComplete:\"nombre\"})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"email\",id:\"email\",value:item.email||'',onChange:this.handleChange,autoComplete:\"email\"})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"titulo\",children:\"Titulo\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"titulo\",id:\"titulo\",value:item.titulo||'',onChange:this.handleChange,autoComplete:\"titulo\"})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"tutor\",children:\"Tutor\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",name:\"tutor\",id:\"tutor\",value:item.tutor||'',onChange:this.handleChange,autoComplete:\"tutor\"})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"status\",children:\"Status\"}),/*#__PURE__*/_jsx(Input,{type:\"number\",name:\"status\",id:\"status\",value:item.status||'',onChange:this.handleChange,autoComplete:\"status\"})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Button,{color:\"primary\",type:\"submit\",children:\"Save\"}),' ',/*#__PURE__*/_jsx(Button,{color:\"secondary\",tag:Link,to:\"/tfgs\",children:\"Cancel\"})]})]})]})]});}}]);return TFGEdit;}(Component);export default withRouter(TFGEdit);","map":{"version":3,"sources":["/home/sergio.jberron/Desktop/Sprint 2/Trackete-main/frontend/src/TFGEdit.js"],"names":["React","Component","Link","withRouter","Button","Container","Form","FormGroup","Input","Label","AppNavbar","TFGEdit","props","emptyItem","nombre","email","titulo","tutor","pass","status","memoria","nota","state","item","handleChange","bind","handleSubmit","match","params","fetch","json","tfg","setState","event","target","value","name","preventDefault","method","headers","body","JSON","stringify","history","push","title"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { Button, Container, Form, FormGroup, Input, Label } from 'reactstrap';\nimport AppNavbar from './AppNavbar';\n\nclass TFGEdit extends Component {\n\n    emptyItem = {\n        nombre: '',\n        email: '',\n        titulo: '',\n        tutor: '',\n        pass: '',\n        status: 1,\n        memoria: null,\n        nota: 0\n    };\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            item: this.emptyItem\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    async componentDidMount() {\n        if (this.props.match.params.email !== 'new') { // \n            const tfg = await (await fetch(`/tfgs/${this.props.match.params.email}`)).json();\n            this.setState({item: tfg});\n        }\n    }\n\n    handleChange(event) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n        let item = {...this.state.item};\n        item[name] = value;\n        this.setState({item});\n    }\n\nasync handleSubmit(event) {\n    event.preventDefault();\n    const {item} = this.state;\n\n    await fetch('/tfgs' + ((this.props.match.params.email !== 'new') ? '/' + item.email : ''), {\n        method: (this.props.match.params.email !== 'new') ? 'PUT' : 'POST', //(item.email) ? 'PUT' : 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(item),\n    });\n    this.props.history.push('/tfgs');\n}\n\n    render() {\n        const {item} = this.state;\n        const title = <h2>{item.email ? 'Edit TFG' : 'Add TFG'}</h2>;\n\n        return <div>\n            <AppNavbar/>\n            <Container>\n                {title}\n                <Form onSubmit={this.handleSubmit}>\n                    <FormGroup>\n                        <Label for=\"nombre\">Nombre</Label>\n                        <Input type=\"text\" name=\"nombre\" id=\"nombre\" value={item.nombre || ''}\n                               onChange={this.handleChange} autoComplete=\"nombre\"/>\n                    </FormGroup>\n                    <FormGroup>\n                        <Label for=\"email\">Email</Label>\n                        <Input type=\"text\" name=\"email\" id=\"email\" value={item.email || ''}\n                               onChange={this.handleChange} autoComplete=\"email\"/>\n                    </FormGroup>\n                    <FormGroup>\n                        <Label for=\"titulo\">Titulo</Label>\n                        <Input type=\"text\" name=\"titulo\" id=\"titulo\" value={item.titulo || ''}\n                               onChange={this.handleChange} autoComplete=\"titulo\"/>\n                    </FormGroup>\n                    <FormGroup>\n                        <Label for=\"tutor\">Tutor</Label>\n                        <Input type=\"text\" name=\"tutor\" id=\"tutor\" value={item.tutor || ''}\n                               onChange={this.handleChange} autoComplete=\"tutor\"/>\n                    </FormGroup>\n                    <FormGroup>\n                        <Label for=\"status\">Status</Label>\n                        <Input type=\"number\" name=\"status\" id=\"status\" value={item.status || ''}\n                               onChange={this.handleChange} autoComplete=\"status\"/>\n                    </FormGroup>\n\n                    <FormGroup>\n                        <Button color=\"primary\" type=\"submit\">Save</Button>{' '}\n                        <Button color=\"secondary\" tag={Link} to=\"/tfgs\">Cancel</Button>\n                    </FormGroup>\n                </Form>\n            </Container>\n        </div>\n    }\n}\n\nexport default withRouter(TFGEdit);"]},"metadata":{},"sourceType":"module"}